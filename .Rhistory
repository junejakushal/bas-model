# Load necessary libraries
library(ggplot2)
library(dplyr)
library(scales)

# 1. Create the Data Frame based on INR conversion (approx 90 INR/USD)
data <- data.frame(
  Category = c(
    "Domestic Modelled (Auto)", "Domestic Modelled (Const)",
    "Export Modelled (Auto)", "Export Modelled (Const)",
    "India Domestic (Market)", "India Export (Market)",
    "Europe (Market)", "USA (Market)", "Japan/Korea (Est)"
  ),
  Group = c(
    "Modelled Scenarios (CSV)", "Modelled Scenarios (CSV)",
    "Modelled Scenarios (CSV)", "Modelled Scenarios (CSV)",
    "Current Market Rates", "Current Market Rates",
    "Developed Economies", "Developed Economies", "Developed Economies"
  ),
  # Values converted to INR
  Min = c(39700, 34700, 41500, 36600, 1350, 4950, 7650, 0, 18000),
  Max = c(275400, 241000, 600000, 580000, 18900, 13500, 32400, 900, 22500), 
  # Note: Capped Export Modelled Max at 6 Lakhs for visualization readability 
  # (Actual max is >16 Lakhs)
  
  Label = c(
    "₹39.7k - ₹2.75L", "₹34.7k - ₹2.41L", 
    "₹41.5k - ₹16.5L*", "₹36.6k - ₹16.2L*", 
    "₹1.3k - ₹18.9k", "₹4.9k - ₹13.5k", 
    "₹7.6k - ₹32.4k", "₹0 - ₹900", "₹18k - ₹22.5k"
  )
)

# Set factor levels to control the order on the Y-axis
data$Category <- factor(data$Category, levels = rev(data$Category))

# 2. Define GS-inspired Theme
theme_gs <- function() {
  theme_minimal(base_family = "sans") +
    theme(
      plot.title = element_text(face = "bold", size = 16, color = "#333333", hjust = 0),
      plot.subtitle = element_text(size = 12, color = "#666666", margin = margin(b = 20)),
      plot.background = element_rect(fill = "white", color = NA),
      panel.grid.major.y = element_line(color = "#E5E5E5", size = 0.5),
      panel.grid.major.x = element_line(color = "#E5E5E5", size = 0.5),
      panel.grid.minor = element_blank(),
      axis.text.y = element_text(size = 10, color = "#333333", face = "bold"),
      axis.text.x = element_text(size = 10, color = "#666666"),
      axis.title = element_blank(),
      legend.position = "top",
      legend.justification = "left",
      legend.title = element_blank()
    )
}

# 3. Create the Plot
p <- ggplot(data, aes(y = Category, xmin = Min, xmax = Max, color = Group)) +
  # Draw the range bars (Floating bars)
  geom_linerange(size = 8, alpha = 0.8) +
  
  # Add labels for Min and Max values (Using the custom Label column or calculating)
  geom_text(aes(x = Min, label = paste0("₹", round(Min/1000, 1), "k")), 
            color = "#333333", size = 3, vjust = -1.5, fontface = "bold") +
  
  # For Max labels, we use the specific strings for outliers, otherwise standard k format
  geom_text(aes(x = Max, label = ifelse(Max > 300000, 
                                      paste0("₹", round(Max/100000, 1), "L*"), 
                                      paste0("₹", round(Max/1000, 1), "k"))), 
            color = "#333333", size = 3, vjust = -1.5, fontface = "bold") +
  
  # Custom colors (GS style: Blues and Greys)
  scale_color_manual(values = c(
    "Modelled Scenarios (CSV)" = "#729FCF",   # Light Blue
    "Current Market Rates" = "#005F86",       # GS Dark Blue
    "Developed Economies" = "#888888"         # Grey
  )) +
  
  # Axis formatting to Lakhs/Thousands
  scale_x_continuous(labels = function(x) paste0("₹", x/1000, "k"), 
                     breaks = seq(0, 600000, 100000)) +
  coord_cartesian(xlim = c(0, 650000)) + # Limit x-axis to keep chart readable
  
  # Labels
  labs(
    title = "Green Steel Premium Valuation (INR): Modelled vs. Market Reality",
    subtitle = "Comparison of abatement cost scenarios (CSV) vs. current realized market premiums (₹/tonne)",
    caption = "*Export Modelled max values truncated (actual max > ₹16 Lakhs). Exchange Rate: ~90 INR/USD"
  ) +
  theme_gs()

# 4. Print the plot
print(p)
library(tidyverse)

football_df <- tribble(
  ~segment, ~min, ~p25, ~median, ~p75, ~max,
  "Domestic + Construction", 386, 710, 1052, 1476, 2684,
  "Domestic + Automobile",   442, 811, 1202, 1687, 3067,
  "Export + Construction",   407, 1111, 2028, 5402, 18024,
  "Export + Automobile",     462, 1247, 2232, 5515, 18407
)


tata_corridor <- football_df %>%
  mutate(
    tata_low  = median,
    tata_high = p75
  )


ggplot(football_df, aes(y = segment)) +

  # Full valuation range (Min–Max)
  geom_segment(
    aes(x = min, xend = max, yend = segment),
    linewidth = 1.2,
    color = "grey40"
  ) +

  # Interquartile range (P25–P75)
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15
    ),
    fill = "grey70",
    alpha = 0.9
  ) +

  # Median marker
  geom_point(
    aes(x = median),
    size = 3,
    shape = 95,
    color = "black"
  ) +

  # Tata Steel pricing corridor
  geom_rect(
    data = tata_corridor,
    aes(
      xmin = tata_low,
      xmax = tata_high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18
    ),
    fill = "steelblue",
    alpha = 0.35
  ) +

  # Axis formatting
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.05))
  ) +

  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Ranges reflect scenario-based premiums; Tata Steel optimal pricing corridor highlighted",
    x = "Green Premium (₹ per tonne of steel)",
    y = NULL
  ) +

  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30")
  )


ggsave(
  filename = "green_steel_football_field_tata_pricing.png",
  width = 12,
  height = 6,
  dpi = 300,
  bg = "white"
)


ggsave(
  filename = "green_steel_football_field_tata_pricing.pdf",
  width = 12,
  height = 6,
  device = cairo_pdf
)


# End of plot1.R
library(tidyverse)

# -----------------------------
# Input data
# -----------------------------
football_df <- tribble(
  ~segment, ~min, ~p25, ~median, ~p75, ~max,
  "Domestic + Construction", 386, 710, 1052, 1476, 2684,
  "Domestic + Automobile",   442, 811, 1202, 1687, 3067,
  "Export + Construction",   407, 1111, 2028, 5402, 18024,
  "Export + Automobile",     462, 1247, 2232, 5515, 18407
)

tata_corridor <- football_df %>%
  mutate(
    tata_low  = median,
    tata_high = p75
  )

# -----------------------------
# Plot
# -----------------------------
p <- ggplot(football_df, aes(y = segment)) +

  # Full feasible range (Min–Max)
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # Interquartile range (P25–P75)
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # Median marker
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # Tata Steel pricing corridor
  geom_rect(
    data = tata_corridor,
    aes(
      xmin = tata_low,
      xmax = tata_high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = "Tata Steel optimal pricing corridor"
    ),
    alpha = 0.35
  ) +

  # Annotation explaining horizontal line
  annotate(
    "text",
    x = 12000,
    y = 4.4,
    label = "Horizontal line = full feasible premium range\n(Min–Max across scenarios)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Annotation explaining box
  annotate(
    "text",
    x = 12000,
    y = 4.0,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Scales
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.1))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata Steel optimal pricing corridor" = "steelblue"
    ),
    name = NULL
  ) +

  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Scenario-based premium ranges with Tata Steel recommended pricing corridor",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Source: Green steel pricing model; premiums derived from abatement cost, lifecycle amortization, and carbon pricing scenarios"
  ) +

  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.pdf",
  plot = p,
  width = 12,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.png",
  plot = p,
  width = 12,
  height = 6,
  dpi = 300,
  bg = "white"
)


#“Each horizontal line shows the full feasible range of green steel premiums across all scenarios. The box highlights where the market is most likely to clear, while the blue band marks Tata Steel’s optimal pricing corridor that balances value capture with adoption risk.”
# -----------------------------



library(tidyverse)

# -----------------------------
# Input data
# -----------------------------
football_df <- tribble(
  ~segment, ~min, ~p25, ~median, ~p75, ~max,
  "Domestic + Construction", 386, 710, 1052, 1476, 2684,
  "Domestic + Automobile",   442, 811, 1202, 1687, 3067,
  "Export + Construction",   407, 1111, 2028, 5402, 18024,
  "Export + Automobile",     462, 1247, 2232, 5515, 18407
)

tata_corridor <- football_df %>%
  mutate(
    tata_low  = median,
    tata_high = p75
  )

# -----------------------------
# Plot
# -----------------------------
p <- ggplot(football_df, aes(y = segment)) +

  # Full feasible range (Min–Max)
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # Interquartile range (P25–P75)
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # Median marker
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # Tata Steel pricing corridor
  geom_rect(
    data = tata_corridor,
    aes(
      xmin = tata_low,
      xmax = tata_high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = "Tata Steel optimal pricing corridor"
    ),
    alpha = 0.35
  ) +

  # Annotation explaining horizontal line
  annotate(
    "text",
    x = 12000,
    y = 4.4,
    label = "Horizontal line = full feasible premium range\n(Min–Max across scenarios)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Annotation explaining box
  annotate(
    "text",
    x = 12000,
    y = 3.0,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Scales
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.1))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata Steel optimal pricing corridor" = "steelblue"
    ),
    name = NULL
  ) +

  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Scenario-based premium ranges with Tata Steel recommended pricing corridor",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Source: Green steel pricing model; premiums derived from abatement cost, lifecycle amortization, and carbon pricing scenarios"
  ) +

  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.pdf",
  plot = p,
  width = 12,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.png",
  plot = p,
  width = 12,
  height = 6,
  dpi = 300,
  bg = "white"
)


#“Each horizontal line shows the full feasible range of green steel premiums across all scenarios. The box highlights where the market is most likely to clear, while the blue band marks Tata Steel’s optimal pricing corridor that balances value capture with adoption risk.”
# -----------------------------



library(tidyverse)

# -----------------------------
# Input data
# -----------------------------
football_df <- tribble(
  ~segment, ~min, ~p25, ~median, ~p75, ~max,
  "Domestic + Construction", 386, 710, 1052, 1476, 2684,
  "Domestic + Automobile",   442, 811, 1202, 1687, 3067,
  "Export + Construction",   407, 1111, 2028, 5402, 18024,
  "Export + Automobile",     462, 1247, 2232, 5515, 18407
)

tata_corridor <- football_df %>%
  mutate(
    tata_low  = median,
    tata_high = p75
  )

# -----------------------------
# Plot
# -----------------------------
p <- ggplot(football_df, aes(y = segment)) +

  # Full feasible range (Min–Max)
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # Interquartile range (P25–P75)
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # Median marker
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # Tata Steel pricing corridor
  geom_rect(
    data = tata_corridor,
    aes(
      xmin = tata_low,
      xmax = tata_high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = "Tata Steel optimal pricing corridor"
    ),
    alpha = 0.35
  ) +

  # Annotation explaining horizontal line
  annotate(
    "text",
    x = 12000,
    y = 4.4,
    label = "Horizontal line = full feasible premium range\n(Min–Max across scenarios)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Annotation explaining box
  annotate(
    "text",
    x = 12000,
    y = 3.5,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Scales
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.1))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata Steel optimal pricing corridor" = "steelblue"
    ),
    name = NULL
  ) +

  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Scenario-based premium ranges with Tata Steel recommended pricing corridor",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Source: Green steel pricing model; premiums derived from abatement cost, lifecycle amortization, and carbon pricing scenarios"
  ) +

  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.pdf",
  plot = p,
  width = 12,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.png",
  plot = p,
  width = 12,
  height = 6,
  dpi = 300,
  bg = "white"
)


#“Each horizontal line shows the full feasible range of green steel premiums across all scenarios. The box highlights where the market is most likely to clear, while the blue band marks Tata Steel’s optimal pricing corridor that balances value capture with adoption risk.”
# -----------------------------



library(tidyverse)

# -----------------------------
# Input data
# -----------------------------
football_df <- tribble(
  ~segment, ~min, ~p25, ~median, ~p75, ~max,
  "Domestic + Construction", 386, 710, 1052, 1476, 2684,
  "Domestic + Automobile",   442, 811, 1202, 1687, 3067,
  "Export + Construction",   407, 1111, 2028, 5402, 18024,
  "Export + Automobile",     462, 1247, 2232, 5515, 18407
)

tata_corridor <- football_df %>%
  mutate(
    tata_low  = median,
    tata_high = p75
  )

# -----------------------------
# Plot
# -----------------------------
p <- ggplot(football_df, aes(y = segment)) +

  # Full feasible range (Min–Max)
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # Interquartile range (P25–P75)
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # Median marker
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # Tata Steel pricing corridor
  geom_rect(
    data = tata_corridor,
    aes(
      xmin = tata_low,
      xmax = tata_high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = "Tata Steel optimal pricing corridor"
    ),
    alpha = 0.35
  ) +

  # Annotation explaining horizontal line
  annotate(
    "text",
    x = 12000,
    y = 4.4,
    label = "Horizontal line = full feasible premium range\n(Min–Max across scenarios)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Annotation explaining box
  annotate(
    "text",
    x = 12000,
    y = 4.1,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Scales
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.1))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata Steel optimal pricing corridor" = "steelblue"
    ),
    name = NULL
  ) +

  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Scenario-based premium ranges with Tata Steel recommended pricing corridor",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Source: Green steel pricing model; premiums derived from abatement cost, lifecycle amortization, and carbon pricing scenarios"
  ) +

  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.pdf",
  plot = p,
  width = 12,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.png",
  plot = p,
  width = 12,
  height = 6,
  dpi = 300,
  bg = "white"
)


#“Each horizontal line shows the full feasible range of green steel premiums across all scenarios. The box highlights where the market is most likely to clear, while the blue band marks Tata Steel’s optimal pricing corridor that balances value capture with adoption risk.”
# -----------------------------



library(tidyverse)

# -----------------------------
# Input data
# -----------------------------
football_df <- tribble(
  ~segment, ~min, ~p25, ~median, ~p75, ~max,
  "Domestic + Construction", 386, 710, 1052, 1476, 2684,
  "Domestic + Automobile",   442, 811, 1202, 1687, 3067,
  "Export + Construction",   407, 1111, 2028, 5402, 18024,
  "Export + Automobile",     462, 1247, 2232, 5515, 18407
)

tata_corridor <- football_df %>%
  mutate(
    tata_low  = median,
    tata_high = p75
  )

# -----------------------------
# Plot
# -----------------------------
p <- ggplot(football_df, aes(y = segment)) +

  # Full feasible range (Min–Max)
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # Interquartile range (P25–P75)
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # Median marker
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # Tata Steel pricing corridor
  geom_rect(
    data = tata_corridor,
    aes(
      xmin = tata_low,
      xmax = tata_high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = "Tata Steel optimal pricing corridor"
    ),
    alpha = 0.35
  ) +

  # Annotation explaining horizontal line
  annotate(
    "text",
    x = 12000,
    y = 4.4,
    label = "Horizontal line = full feasible premium range\n(Min–Max across scenarios)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Annotation explaining box
  annotate(
    "text",
    x = 12000,
    y = 4.2,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Scales
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.1))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata Steel optimal pricing corridor" = "steelblue"
    ),
    name = NULL
  ) +

  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Scenario-based premium ranges with Tata Steel recommended pricing corridor",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Source: Green steel pricing model; premiums derived from abatement cost, lifecycle amortization, and carbon pricing scenarios"
  ) +

  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.pdf",
  plot = p,
  width = 12,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.png",
  plot = p,
  width = 12,
  height = 6,
  dpi = 300,
  bg = "white"
)


#“Each horizontal line shows the full feasible range of green steel premiums across all scenarios. The box highlights where the market is most likely to clear, while the blue band marks Tata Steel’s optimal pricing corridor that balances value capture with adoption risk.”
# -----------------------------



library(tidyverse)

# -----------------------------
# Input data
# -----------------------------
football_df <- tribble(
  ~segment, ~min, ~p25, ~median, ~p75, ~max,
  "Domestic + Construction", 386, 710, 1052, 1476, 2684,
  "Domestic + Automobile",   442, 811, 1202, 1687, 3067,
  "Export + Construction",   407, 1111, 2028, 5402, 18024,
  "Export + Automobile",     462, 1247, 2232, 5515, 18407
)

tata_corridor <- football_df %>%
  mutate(
    tata_low  = median,
    tata_high = p75
  )

# -----------------------------
# Plot
# -----------------------------
p <- ggplot(football_df, aes(y = segment)) +

  # Full feasible range (Min–Max)
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # Interquartile range (P25–P75)
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # Median marker
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # Tata Steel pricing corridor
  geom_rect(
    data = tata_corridor,
    aes(
      xmin = tata_low,
      xmax = tata_high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = "Tata Steel optimal pricing corridor"
    ),
    alpha = 0.35
  ) +

  # Annotation explaining horizontal line
  annotate(
    "text",
    x = 12000,
    y = 4.4,
    label = "Horizontal line = full feasible premium range\n(Min–Max across scenarios)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Annotation explaining box
  annotate(
    "text",
    x = 12000,
    y = 4.15,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # Scales
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.1))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata Steel optimal pricing corridor" = "steelblue"
    ),
    name = NULL
  ) +

  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Scenario-based premium ranges with Tata Steel recommended pricing corridor",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Source: Green steel pricing model; premiums derived from abatement cost, lifecycle amortization, and carbon pricing scenarios"
  ) +

  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.pdf",
  plot = p,
  width = 12,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_tata_pricing.png",
  plot = p,
  width = 12,
  height = 6,
  dpi = 300,
  bg = "white"
)


#“Each horizontal line shows the full feasible range of green steel premiums across all scenarios. The box highlights where the market is most likely to clear, while the blue band marks Tata Steel’s optimal pricing corridor that balances value capture with adoption risk.”
# -----------------------------



p <- ggplot(football_df, aes(y = segment)) +

  # --------------------------------
  # Full feasible range (Min–Max)
  # --------------------------------
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # --------------------------------
  # Market clearing zone (P25–P75)
  # --------------------------------
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # --------------------------------
  # Median marker
  # --------------------------------
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # --------------------------------
  # India company pricing corridors
  # --------------------------------
  geom_rect(
    data = company_corridors,
    aes(
      xmin = low,
      xmax = high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = company
    ),
    alpha = 0.35
  ) +

  # --------------------------------
  # Annotations
  # --------------------------------
  annotate(
    "text",
    x = 10500,
    y = 5.3,
    label = "Line = full feasible premium range (Min–Max)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +
  annotate(
    "text",
    x = 10500,
    y = 5.05,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # --------------------------------
  # Scales
  # --------------------------------
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.12))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata" = "#1f77b4",
      "JSW"  = "#2ca02c",
      "AMNS" = "#ff7f0e"
    ),
    name = "India company pricing corridor"
  ) +

  # --------------------------------
  # Labels
  # --------------------------------
  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Cross-market premium ranges with Indian producer pricing corridors",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Premiums reflect carbon pricing, CBAM exposure, lifecycle amortization, and observed market willingness to pay"
  ) +

  # --------------------------------
  # Theme (Goldman / McKinsey style)
  # --------------------------------
  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_global_india_overlay.pdf",
  plot = p,
  width = 13,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_global_india_overlay.png",
  plot = p,
  width = 13,
  height = 6,
  dpi = 300,
  bg = "white"
)

# Each horizontal line shows the full feasible range of green steel premiums across markets. The shaded box highlights where the market is most likely to clear, while colored bands indicate how Indian producers (Tata, JSW, AMNS) are positioned within that range. EU exports structurally command the highest premiums due to CBAM, while India remains willingness-to-pay constrained.
# -----------------------------


library(tidyverse)

# --------------------------------
# Football field data (₹/t steel)
# --------------------------------
football_df <- tribble(
  ~segment,                ~min,  ~p25,  ~median, ~p75,  ~max,
  "EU Export Market",        4500, 6500,  8000,    9500, 10000,
  "India – Domestic",       1200, 1800,  2500,    3200, 3500,
  "India – Export (ex-EU)", 1500, 2500,  3300,    4200, 4500,
  "South Korea",             600, 1000,  1500,    2200, 2500,
  "Japan",                   300,  700,  1200,    1600, 1800
)

# --------------------------------
# Company pricing corridors (India only)
# --------------------------------
company_corridors <- tribble(
  ~segment,          ~company, ~low,  ~high,
  "India – Domestic","Tata",    2000, 3500,
  "India – Domestic","JSW",     1800, 3000,
  "India – Domestic","AMNS",    1500, 2500
)


p <- ggplot(football_df, aes(y = segment)) +

  # --------------------------------
  # Full feasible range (Min–Max)
  # --------------------------------
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # --------------------------------
  # Market clearing zone (P25–P75)
  # --------------------------------
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # --------------------------------
  # Median marker
  # --------------------------------
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # --------------------------------
  # India company pricing corridors
  # --------------------------------
  geom_rect(
    data = company_corridors,
    aes(
      xmin = low,
      xmax = high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = company
    ),
    alpha = 0.35
  ) +

  # --------------------------------
  # Annotations
  # --------------------------------
  annotate(
    "text",
    x = 10500,
    y = 5.3,
    label = "Line = full feasible premium range (Min–Max)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +
  annotate(
    "text",
    x = 10500,
    y = 5.05,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # --------------------------------
  # Scales
  # --------------------------------
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.12))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata" = "#1f77b4",
      "JSW"  = "#2ca02c",
      "AMNS" = "#ff7f0e"
    ),
    name = "India company pricing corridor"
  ) +

  # --------------------------------
  # Labels
  # --------------------------------
  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Cross-market premium ranges with Indian producer pricing corridors",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Premiums reflect carbon pricing, CBAM exposure, lifecycle amortization, and observed market willingness to pay"
  ) +

  # --------------------------------
  # Theme (Goldman / McKinsey style)
  # --------------------------------
  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_global_india_overlay.pdf",
  plot = p,
  width = 13,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_global_india_overlay.png",
  plot = p,
  width = 13,
  height = 6,
  dpi = 300,
  bg = "white"
)

library(tidyverse)

# --------------------------------
# Football field data (₹/t steel)
# --------------------------------
football_df <- tribble(
  ~segment,                ~min,  ~p25,  ~median, ~p75,  ~max,
  "EU Export Market",        4500, 6500,  8000,    9500, 10000,
  "India – Domestic",       1200, 1800,  2500,    3200, 3500,
  "India – Export (ex-EU)", 1500, 2500,  3300,    4200, 4500,
  "South Korea",             600, 1000,  1500,    2200, 2500,
  "Japan",                   300,  700,  1200,    1600, 1800
)

# --------------------------------
# Company pricing corridors (India only)
# --------------------------------
company_corridors <- tribble(
  ~segment,          ~company, ~low,  ~high,
  "India – Domestic","Tata",    2000, 3500,
  "India – Domestic","JSW",     1800, 3000,
  "India – Domestic","AMNS",    1500, 2500
)


p <- ggplot(football_df, aes(y = segment)) +

  # --------------------------------
  # Full feasible range (Min–Max)
  # --------------------------------
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # --------------------------------
  # Market clearing zone (P25–P75)
  # --------------------------------
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # --------------------------------
  # Median marker
  # --------------------------------
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # --------------------------------
  # India company pricing corridors
  # --------------------------------
  geom_rect(
    data = company_corridors,
    aes(
      xmin = low,
      xmax = high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = company
    ),
    alpha = 0.35
  ) +

  # --------------------------------
  # Annotations
  # --------------------------------
  annotate(
    "text",
    x = 9500,
    y = 5.3,
    label = "Line = full feasible premium range (Min–Max)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +
  annotate(
    "text",
    x = 9500,
    y = 5.05,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # --------------------------------
  # Scales
  # --------------------------------
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.12))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata" = "#1f77b4",
      "JSW"  = "#2ca02c",
      "AMNS" = "#ff7f0e"
    ),
    name = "India company pricing corridor"
  ) +

  # --------------------------------
  # Labels
  # --------------------------------
  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Cross-market premium ranges with Indian producer pricing corridors",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Premiums reflect carbon pricing, CBAM exposure, lifecycle amortization, and observed market willingness to pay"
  ) +

  # --------------------------------
  # Theme (Goldman / McKinsey style)
  # --------------------------------
  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_global_india_overlay.pdf",
  plot = p,
  width = 13,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_global_india_overlay.png",
  plot = p,
  width = 13,
  height = 6,
  dpi = 300,
  bg = "white"
)

library(tidyverse)

# --------------------------------
# Football field data (₹/t steel)
# --------------------------------
football_df <- tribble(
  ~segment,                ~min,  ~p25,  ~median, ~p75,  ~max,
  "EU Export Market",        4500, 6500,  8000,    9500, 10000,
  "India – Domestic",       1200, 1800,  2500,    3200, 3500,
  "India – Export (ex-EU)", 1500, 2500,  3300,    4200, 4500,
  "South Korea",             600, 1000,  1500,    2200, 2500,
  "Japan",                   300,  700,  1200,    1600, 1800
)

# --------------------------------
# Company pricing corridors (India only)
# --------------------------------
company_corridors <- tribble(
  ~segment,          ~company, ~low,  ~high,
  "India – Domestic","Tata",    2000, 3500,
  "India – Domestic","JSW",     1800, 3000,
  "India – Domestic","AMNS",    1500, 2500
)


p <- ggplot(football_df, aes(y = segment)) +

  # --------------------------------
  # Full feasible range (Min–Max)
  # --------------------------------
  geom_segment(
    aes(x = min, xend = max, yend = segment, color = "Market feasible range"),
    linewidth = 1.2
  ) +

  # --------------------------------
  # Market clearing zone (P25–P75)
  # --------------------------------
  geom_rect(
    aes(
      xmin = p25,
      xmax = p75,
      ymin = as.numeric(factor(segment)) - 0.15,
      ymax = as.numeric(factor(segment)) + 0.15,
      fill = "Market clearing zone (P25–P75)"
    ),
    alpha = 0.9
  ) +

  # --------------------------------
  # Median marker
  # --------------------------------
  geom_point(
    aes(x = median, color = "Median market price"),
    size = 3,
    shape = 95
  ) +

  # --------------------------------
  # India company pricing corridors
  # --------------------------------
  geom_rect(
    data = company_corridors,
    aes(
      xmin = low,
      xmax = high,
      ymin = as.numeric(factor(segment)) - 0.18,
      ymax = as.numeric(factor(segment)) + 0.18,
      fill = company
    ),
    alpha = 0.35
  ) +

  # --------------------------------
  # Annotations
  # --------------------------------
  annotate(
    "text",
    x = 7500,
    y = 5.3,
    label = "Line = full feasible premium range (Min–Max)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +
  annotate(
    "text",
    x = 7500,
    y = 5.05,
    label = "Box = market clearing zone (P25–P75)",
    hjust = 0,
    size = 3.5,
    color = "grey30"
  ) +

  # --------------------------------
  # Scales
  # --------------------------------
  scale_x_continuous(
    labels = scales::comma_format(),
    expand = expansion(mult = c(0.02, 0.12))
  ) +

  scale_color_manual(
    values = c(
      "Market feasible range" = "grey40",
      "Median market price"   = "black"
    ),
    name = NULL
  ) +

  scale_fill_manual(
    values = c(
      "Market clearing zone (P25–P75)" = "grey70",
      "Tata" = "#1f77b4",
      "JSW"  = "#2ca02c",
      "AMNS" = "#ff7f0e"
    ),
    name = "India company pricing corridor"
  ) +

  # --------------------------------
  # Labels
  # --------------------------------
  labs(
    title = "Green Steel Premium Football Field (₹/t steel)",
    subtitle = "Cross-market premium ranges with Indian producer pricing corridors",
    x = "Green premium (₹ per tonne of steel)",
    y = NULL,
    caption = "Premiums reflect carbon pricing, CBAM exposure, lifecycle amortization, and observed market willingness to pay"
  ) +

  # --------------------------------
  # Theme (Goldman / McKinsey style)
  # --------------------------------
  theme_minimal(base_size = 13) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.y = element_text(face = "bold"),
    plot.title = element_text(face = "bold"),
    plot.subtitle = element_text(color = "grey30"),
    legend.position = "bottom",
    legend.box = "horizontal"
  )

p


ggsave(
  filename = "outputs/charts/green_steel_football_field_global_india_overlay.pdf",
  plot = p,
  width = 13,
  height = 6,
  device = cairo_pdf
)

ggsave(
  filename = "outputs/charts/green_steel_football_field_global_india_overlay.png",
  plot = p,
  width = 13,
  height = 6,
  dpi = 300,
  bg = "white"
)

